(function(o,d){typeof exports=="object"&&typeof module!="undefined"?d(exports):typeof define=="function"&&define.amd?define(["exports"],d):(o=typeof globalThis!="undefined"?globalThis:o||self,d(o.InputList={}))})(this,function(o){"use strict";var d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-list"},[e._l(e.items,function(s,i){return[n("div",{directives:[{name:"bind-events",rawName:"v-bind-events"}],key:i,staticClass:"input-list-item"},[e._t("default",null,{index:i,isOdd:i%2===1,isEven:i%2===0,isFirstRow:i===0,isLastRow:i===e.items.length-1})],2)]})],2)},_=[];function m(e,t,n,s,i,u,c,A){var r=typeof e=="function"?e.options:e;t&&(r.render=t,r.staticRenderFns=n,r._compiled=!0),s&&(r.functional=!0),u&&(r._scopeId="data-v-"+u);var a;if(c?(a=function(l){l=l||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!l&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(l=__VUE_SSR_CONTEXT__),i&&i.call(this,l),l&&l._registeredComponents&&l._registeredComponents.add(c)},r._ssrRegister=a):i&&(a=A?function(){i.call(this,(r.functional?this.parent:this).$root.$options.shadowRoot)}:i),a)if(r.functional){r._injectStyles=a;var w=r.render;r.render=function(O,v){return a.call(v),w(O,v)}}else{var h=r.beforeCreate;r.beforeCreate=h?[].concat(h,a):[a]}return{exports:e,options:r}}const p=9,y={directives:{bindEvents:{inserted(e,t,n){Array.from(n.elm.children).forEach(i=>{typeof i.value=="undefined"?i.querySelectorAll("input, textarea, select").forEach(u=>{n.context.bindEvents(u,e)}):n.context.bindEvents(i,e)})}}},props:{items:{type:Array,default:()=>[]},newItem:{type:Function,default:()=>({})},total:{type:Number,default:1},validate:{type:Function,default(e,t){return Array.from(t.querySelectorAll("input, textarea, select")).reduce((n,s)=>n?!!s.value:!1,!0)}},validateEmpty:{type:Function,default(e,t){return Array.from(t.querySelectorAll("input, textarea, select")),t.parentElement.children.length===1?!1:Array.from(t.querySelectorAll("input, textarea, select")).reduce((n,s)=>n?!s.value:!1,!0)}}},data(){return{}},created(){this.items.length||this.items.push(this.newItem())},methods:{indexOf(e){return[...e.parentElement.children].indexOf(e)},isLastChild(e){return this.indexOf(e)===e.parentElement.children.length-1},isFirstChild(e){return this.indexOf(e)===0},bindEvents(e,t){this.bindBlurEvent(e,t),this.bindKeydownEvent(e,t)},bindBlurEvent(e,t){e.addEventListener("blur",n=>{const s=this.indexOf(t);!this.isLastChild(t)&&this.validateEmpty(e,t)&&this.items.splice(s,1)})},bindKeydownEvent(e,t){e.addEventListener("keydown",n=>{if(this.indexOf(t),Array.from(t.querySelectorAll("input, select, textarea")),n.shiftKey||n.keyCode!==p)return!1;this.isLastChild(t)&&this.validate(e,t)&&this.items.push(this.newItem())})}}},f={};var E=m(y,d,_,!1,b,null,null,null);function b(e){for(let t in f)this[t]=f[t]}var C=function(){return E.exports}();o.InputList=C,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});

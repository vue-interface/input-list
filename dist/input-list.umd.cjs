(function(s,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],n):(s=typeof globalThis<"u"?globalThis:s||self,n(s.InputList={},s.Vue))})(this,function(s,n){"use strict";const a=n.defineComponent({directives:{bindEvents:{inserted(e,t,i){Array.from(i.elm.children).forEach(l=>{typeof l.value>"u"?l.querySelectorAll("input, textarea, select").forEach(o=>{i.context.bindEvents(o,e)}):i.context.bindEvents(l,e)})}}},props:{items:{type:Array,default:()=>[]},newItem:{type:Function,default:()=>({})},total:{type:Number,default:1},validate:{type:Function,default(e,t){return Array.from(t.querySelectorAll("input, textarea, select")).reduce((i,r)=>i?!!r.value:!1,!0)}},validateEmpty:{type:Function,default(e,t){return t.parentElement.children.length===1?!1:Array.from(t.querySelectorAll("input, textarea, select")).reduce((i,r)=>i?!r.value:!1,!0)}}},data(){return{}},created(){this.items.length||this.items.push(this.newItem())},methods:{indexOf(e){return[...e.parentElement.children].indexOf(e)},isLastChild(e){return this.indexOf(e)===e.parentElement.children.length-1},isFirstChild(e){return this.indexOf(e)===0},bindEvents(e,t){this.bindBlurEvent(e,t),this.bindKeydownEvent(e,t)},bindBlurEvent(e,t){e.addEventListener("blur",()=>{const i=this.indexOf(t);!this.isLastChild(t)&&this.validateEmpty(e,t)&&this.items.splice(i,1)})},bindKeydownEvent(e,t){e.addEventListener("keydown",i=>{if(i.shiftKey||i.keyCode!==9)return!1;this.isLastChild(t)&&this.validate(e,t)&&this.items.push(this.newItem())})}}}),c=(e,t)=>{const i=e.__vccOpts||e;for(const[r,l]of t)i[r]=l;return i},u={class:"input-list"};function f(e,t,i,r,l,o){const p=n.resolveDirective("bind-events");return n.openBlock(),n.createElementBlock("div",u,[(n.openBlock(!0),n.createElementBlock(n.Fragment,null,n.renderList(e.items,(y,d)=>n.withDirectives((n.openBlock(),n.createElementBlock("div",{key:d,class:"input-list-item"},[n.renderSlot(e.$slots,"default",{index:d,isOdd:d%2===1,isEven:d%2===0,isFirstRow:d===0,isLastRow:d===e.items.length-1})])),[[p]])),128))])}const h=c(a,[["render",f]]);s.InputList=h,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
